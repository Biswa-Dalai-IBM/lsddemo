<?xml version="1.0" encoding="UTF-8"?>

<FLOW VERSION="3.2" CLEANUP="true">

	<!-- nodes -->

	<SEQUENCE EXIT-ON="FAILURE" FORM="TRY">

		<!-- nodes -->

		<INVOKE SERVICE="pub.math:divideInts">

			<!-- nodes -->

			<MAP MODE="INPUT">

				<!-- nodes -->

				<MAPCOPY FROM="/n1;1;0" TO="/num1;1;0">
				</MAPCOPY>

				<MAPCOPY FROM="/n2;1;0" TO="/num2;1;0">
				</MAPCOPY>
			</MAP>

			<MAP MODE="OUTPUT">

				<!-- nodes -->

				<MAPCOPY FROM="/value;1;0" TO="/result;1;0">
				</MAPCOPY>
			</MAP>
		</INVOKE>
	</SEQUENCE>

	<SEQUENCE EXIT-ON="FAILURE" FORM="CATCH">

		<!-- nodes -->

		<INVOKE SERVICE="pub.flow:getLastError">

			<!-- nodes -->

			<MAP MODE="OUTPUT">

				<!-- nodes -->

				<MAPCOPY FROM="/lastError;2;0/error;1;0" TO="/error;1;0">
				</MAPCOPY>
			</MAP>
		</INVOKE>
	</SEQUENCE>

	<SEQUENCE EXIT-ON="FAILURE" FORM="FINALLY">

		<!-- nodes -->

		<MAP MODE="STANDALONE">

			<!-- nodes -->

			<MAPSET NAME="Setter" OVERWRITE="true" VARIABLES="false"
				GLOBALVARIABLES="false" FIELD="/block;1;0">
				<DATA ENCODING="XMLValues" I18N="true">

					<Values version="2.0">
						<value name="xml">"FINALLY BLOCK"</value>
						<record name="type" javaclass="com.wm.util.Values">
							<value name="node_type">record</value>
							<value name="node_subtype">unknown</value>
							<value name="is_public">false</value>
							<value name="field_name">block</value>
							<value name="field_type">string</value>
							<value name="field_dim">0</value>
							<value name="nillable">true</value>
							<value name="form_qualified">false</value>
							<value name="is_global">false</value>
						</record>
					</Values>
				</DATA>
			</MAPSET>

			<MAPDELETE FIELD="/num1;1;0">
			</MAPDELETE>

			<MAPDELETE FIELD="/num2;1;0">
			</MAPDELETE>

			<MAPDELETE FIELD="/value;1;0">
			</MAPDELETE>

			<MAPDELETE FIELD="/lastError;1;0">
			</MAPDELETE>
		</MAP>
	</SEQUENCE>
</FLOW>
